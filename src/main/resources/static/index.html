<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en" ng-app="bdaApplication" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <title>Blood Disease Network</title>
    <meta content="Antonio" name="author"/>
    <script src="./js/lib/jquery-3.3.1.min.js"></script>
    <script src="./js/popper/popper.min.js"></script>
    <script src="./js/bootstrap/bootstrap.min.js"></script>
</head>
<body class="bg-img">

<!--Loader-->
<div class="loader-overlay newfade-loader in" ng-show="!(semaphore == 0)">
    <div class="custom-loader" loader-css="ball-clip-rotate-multiple"></div>
</div>

<div class="app-body" style="display: none;">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#!/main" ng-show="authenticated">
            <img class="app-brand" src='images/bdn.png'/>
        </a>
        <a class="navbar-brand" href="#!/" ng-show="!authenticated">
            <img class="app-brand" src='images/bdn.png'/>
        </a>
        <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
                data-target="#navbarSupportedContent" data-toggle="collapse" id="togglerButton"
                type="button">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto" ng-show="authenticated && userRole === 'USER'">
                <li class="nav-item dropdown">
                    <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown"
                       href="javascript:void(0);" id="navbarDropdownCard" role="button">
                        Create Medical Record
                    </a>
                    <div aria-labelledby="navbarDropdownCard" class="dropdown-menu">
                        <a class="dropdown-item" ng-href="#!/main">MDS</a>
                        <a class="dropdown-item" ng-href="#!/main">Myeloma</a>
                        <a class="dropdown-item" ng-href="#!/main">Lymphoma</a>
                        <a class="dropdown-item" ng-href="#!/medical-record-cll/4/add">CLL</a>
                        <a class="dropdown-item" ng-href="#!/medical-record-myelo/5/add">Myeloproliferative</a>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle"
                       data-toggle="dropdown" href="javascript:void(0);" id="navbarDropdownSearch" role="button">
                        Search
                    </a>
                    <ul aria-labelledby="navbarDropdownSearch" class="dropdown-menu">
                        <a class="dropdown-item" ng-href="#!/main">Name</a>
                        <a class="dropdown-item" ng-href="#!/main">Title</a>
                        <a class="dropdown-item" ng-href="#!/main">Medical Record</a>
                    </ul>
                </li>
            </ul>

            <ul class="navbar-nav mr-auto" ng-show="authenticated && userRole === 'ADMIN'">
                <li class="nav-item dropdown">
                    <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown"
                       href="javascript:void(0);" id="navbarAdmin" role="button">
                        Administrator Tools
                    </a>
                    <ul aria-labelledby="navbarAdmin" class="dropdown-menu">
                        <li><a class="dropdown-item dropdown-toggle" href="#">Hospital</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" ng-href="#!/hospital/add">Add</a></li>
                                <li><a class="dropdown-item" ng-href="#!/hospital/list">Update/Remove</a></li>
                            </ul>
                        </li>
                        <li><a class="dropdown-item dropdown-toggle" href="#">User</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" ng-href="#!/user/add">Add</a></li>
                                <li><a class="dropdown-item" ng-href="#!/user/list">Update/Remove</a></li>
                            </ul>
                        </li>
                        <li><a class="dropdown-item" ng-href="#!/option">Options</a></li>
                    </ul>
                </li>
            </ul>

            <ul class="navbar-nav" ng-show="authenticated && load">
                <li class="nav-item" style="margin-right: 15px;">
                    <button class="btn app-profile" data-container="body" data-content="
                                              <div class='row'>
                                                <div class='col-lg-4 col-md-4 col-sm-12 col-xs-12'>
                                                  <img src='images/profile.png' class='app-profile-img'/>
                                                </div>
                                                <div class='col-lg-8 col-md-8 col-sm-12 col-xs-12 app-username'>
                                                   <span> {{userName}} </span>
                                                </div>
                                              </div>
                                              <hr/>
                                              <div class='row app-center' style'margin-top: 10px;'>
                                                 <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'>
                                                   <span> Other registered user info </span>
                                                 </div>
                                              </div>
                                              <hr/>
                                              <div class='app-center'>
                                                <a href='#!/logout' class='btn btn-danger navbar-btn' role='button'>Logout</a>
                                              </div>
                                            " data-html="true"
                            data-placement="bottom" data-toggle="popover"
                            data-trigger="focus" title="Logged user"
                            type="button">
                        <img class='app-profile-img' src='images/profile.png'/>
                    </button>
                </li>
            </ul>
            <ul class="navbar-nav mr-auto" ng-show="!authenticated && load">
            </ul>
            <ul class="navbar-nav" ng-show="!authenticated && load">
                <li class="nav-item">
                    <a class="btn navbar-btn app-btn-color" href="#!/" role="button">
                        Login
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <script type="text/javascript">
        // var explode = function(){
        //     $( ".app-container" ).css('top', $('.navbar').outerHeight(true));
        // };

        $(function () {
            $('[data-toggle="popover"]').popover();
            $('.app-body').css('display', 'inherit');   // to avoid a visual bug that load everything altogether
            // $( "#togglerButton" ).click(function() {
            //     console.log("Click");
            //     setTimeout(explode, 300);
            // });
            //
            // $( window ).resize(function() {
            //     $( ".app-container" ).css('top', $('.navbar').outerHeight(true));
            // });
            // $(".btn-group, .dropdown").hover(
            //     function () {
            //         $('>.dropdown-menu', this).stop(true, true).fadeIn("fast");
            //         $(this).addClass('open');
            //     },
            //     function () {
            //         $('>.dropdown-menu', this).stop(true, true).fadeOut("fast");
            //         $(this).removeClass('open');
            //     });
        })
    </script>
    <div ng-view></div>
</div>

<link href="./images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>

<link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,600,700' rel='stylesheet'
      type='text/css'/>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,800" rel="stylesheet"/>

<link href="./css/login.css" rel="stylesheet"/>
<link href="./css/bootstrap/bootstrap.min.css" rel="stylesheet"/>
<link href="./css/app.css" rel="stylesheet"/>
<link href="./css/bootstrap/bootstrap-4-navbar.css" rel="stylesheet"/>
<link href="./js/angularjs/table/ng-table.min.css" rel="stylesheet"/>

<!--ICONIC ICONS-->
<link href="./font/css/open-iconic-bootstrap.css" rel="stylesheet"/>

<!--LOADERS-->
<link href="./css/lib/loaders.min.css" rel="stylesheet"/>

<!--JS LIB-->
<script src="./js/angularjs/angular.js"></script>
<script src="./js/angularjs/angular-route.js"></script>
<script src="./js/angularjs/angular-resource.js"></script>
<script src="./js/angularjs/angular-animate.js"></script>
<script src="./js/angularjs/table/ng-table.min.js"></script>
<script src="./js/lib/angular-loaders.min.js"></script>
<script src="./js/bootstrap/bootstrap-4-navbar.js"></script>
<script src="./js/chartjs/Chart.js"></script>
<script src="./js/chartjs/angular-chart.js"></script>
<script src="./js/angularjs/angular-idle.min.js"></script>
<script src="./js/bootstrap/ui-bootstrap-tpls-2.5.0.min.js"></script>

<!--JS FILES-->
<script src="./js/app.js"></script>
<script src="./js/util.js"></script>
<script src="./js/register.js"></script>
<script src="./js/login.js"></script>
<script src="./js/main.js"></script>
<script src="./js/hospital.js"></script>
<script src="./js/user.js"></script>
<script src="./js/myelo.js"></script>
<script src="./js/cll.js"></script>
<script src="./js/options.js"></script>

<!--DIRECTIVES-->
<script src="./js/directives/pie-chart/bdnPieChartController.js"></script>
<script src="./js/directives/pie-chart/bdnPieChartDirective.js"></script>
<script src="./js/directives/line-chart/bdnLineChartController.js"></script>
<script src="./js/directives/line-chart/bdnLineChartDirective.js"></script>
<script src="./js/directives/bar-chart/bdnBarChartController.js"></script>
<script src="./js/directives/bar-chart/bdnBarChartDirective.js"></script>
<script src="./js/directives/popoverDirective.js"></script>

<!-- Generic modal -->
<div aria-hidden="true" aria-labelledby="modalUserTitle" class="modal fade" id="modalUser" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title app-color" id="modalUserTitle"></h5>
                <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body app-color" id="modalUserBody">
            </div>
            <div class="modal-footer app-center" style="display: block;">
                <button class="btn" data-dismiss="modal" id="modalCloseButton" type="button">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Timeout modal -->
<div aria-hidden="true" aria-labelledby="modalInfoTitle" class="modal fade" id="modalInfo" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header alert-warning">
                <h3>Your session is about to expire for inactivity</h3>
            </div>
            <div class="modal-body app-color" id="modalInfoBody" idle-countdown="countdown" ng-init="max = countdown">
                <p>You will be logged out in <span class="label label-warning">{{countdown}}</span> <span
                        count="countdown" ng-pluralize="" when="{'one': 'second', 'other': 'seconds' }"></span></p>
                <uib-progressbar animate="true" class="progress-striped active" max="30" type="warning"
                                 value="countdown"></uib-progressbar>
            </div>
        </div>
    </div>
</div>

<!-- Logout modal -->
<div aria-hidden="true" aria-labelledby="modalLogoutTitle" class="modal fade" id="modalLogout" role="dialog"
     tabindex="-1">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header alert-danger">
                <h3>Session Expired!</h3>
            </div>
            <div class="modal-body app-color" id="modalLogoutBody" idle-countdown="countdown">
                <p>
                    Logout for inactivity
                </p>
            </div>
            <div class="modal-footer app-center" style="display: block;">
                <button class="btn btn-danger" data-dismiss="modal" id="modalLogoutCloseButton" type="button">Close
                </button>
            </div>
        </div>
    </div>
</div>

</body>
</html>